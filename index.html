<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Nikole Dixon">
        <title>Bear Ninja Hunter Game</title>
        <link rel="stylesheet" href="css/styles.css">
    </head>

  <body>
    <div class="container">
      <h1>Bear Ninja Hunter</h1> <!--Name of the Game-->
      
      <div id="gameResult"></div> <!--Display the results-->

      <div class="button-container">
        <button id="playAgainBtn">Play Again</button> <!--Play again button-->
      </div>

      <script type="text/javascript"> // transition to js coding

        // VARIABLES
        let playerName = '';            // For storing the players name
        let playerNameMessage = '';     // For displaying players name in console
        let letsPlayMessage = '';       // For displaying let's play to the player
        let computerChoice = '';        // For storing the computers choice
        let playerChoice = '';          // For storing the players choice
        let resultMessagePlayer = '';   // For players relsults
        let resultMessageComputer = ''; // For computers relsults
        let gameResult = '';            // For game results
        let playAgain = '';             // For playing the game again

        // Game choices - array
        const gameOptions = ['Bear', 'Ninja', 'Hunter'];

        // For playing again show the prior game results and ask to play agian
        const gameResultDiv = document.getElementById('gameResult');  
        const playAgainBtn = document.getElementById('playAgainBtn');

        // Prompt for players name
        playerName = prompt('Welcome to Bear Hunter Ninja! Please enter your name to get started:');

        // Show player's name in console
        playerNameMessage = `You have entered: ${playerName}`;
          console.log('The players name is ' + playerName); 

        // Let's play message with players name
        letsPlayMessage = playerName;
        
        // If the player cancels the game
        if (!playerName) {
          alert("Game canceled.");

        // Show when the player continues play
        } else {
          alert('Hi ' + letsPlayMessage + ' Let\'s play!!');

        // Playing again starting point
        playAgain = true;

        // Loop for playing the game multiple times
        while (playAgain) {

          // Make computer choice random
          const randomComIndex  = Math.floor(Math.random() * gameOptions.length);

          // Computers choice in lower case
          computerChoice = gameOptions[randomComIndex].toLowerCase();

          // Review each of the options from the array and disply in console
          for (let i = 0; i < gameOptions.length; i++) {
            console.log(gameOptions[i]);
          }  

          // Display in the console the computer's choice
          console.log('Computer picked: ' + computerChoice);

          // Ask player who they want to be
          playerChoice = prompt('Who are you: Bear, Ninja or Hunter?');

          // Used when the player cancels game play
          if (playerChoice === null) {
            alert("You cancelled the round. Goodbye!");
            playAgain = false;
            break;
          }

          // Players choice in lower case
          playerChoice = playerChoice.toLowerCase();

          // Prep player's results
          resultMessagePlayer = `${playerName}, you picked ${playerChoice}. `;

          // Prep computer's results
          resultMessageComputer = `The computer picked ${computerChoice}. `;

          // Validate Player's input
          if (
            playerChoice === 'bear' ||
            playerChoice === 'ninja' ||
            playerChoice === 'hunter'
            ) {

            // Determine outcome
            switch (playerChoice + '-' + computerChoice) {

              //if there is a tie
              case 'bear-bear':
              case 'ninja-ninja':
              case 'hunter-hunter':
                gameResult = "It's a tie!";
                break;

              // if the player wins   
                case 'bear-ninja':
                case 'ninja-hunter':
                case 'hunter-bear':
                  gameResult = playerName + ', you win!';
                  break;

              // if the computer wins
                case 'ninja-bear':
                case 'hunter-ninja':
                case 'bear-hunter':
                  gameResult = 'Computer wins!';
                  break;
            }

            //if there is a invalid input
            } else {
              gameResult = 'Invalid choice. Please choose Bear, Ninja, or Hunter.';
              alert("Invalid input. Please enter Bear, Ninja, or Hunter only.");

          }

          //Results in console
          console.log(resultMessagePlayer + resultMessageComputer + gameResult); 

          // Results in HTML
          document.getElementById('gameResult').innerHTML += resultMessagePlayer + '<br>' + resultMessageComputer + '<br>' + gameResult;

          // Show the Play Again button and stop the loop
          playAgain = false;
          playAgainBtn.style.display = 'block';
	      }

        // Clicking the Play Again button just reloads the page (no function)
        playAgainBtn.addEventListener('click', function () {
          location.reload();
        });

        // Closing the game out this a thank you and good game.
        alert('Good game, ' + playerName + '!');

        }

      </script>
    </div>
  </body>
</html>